const todoInputTitle=document.querySelector("#inputTitle"),todoInputText=document.querySelector("#inputText"),todoButton=document.querySelector(".js-addButton"),todoList=document.querySelector("#currentTasks"),todoListCompleted=document.querySelector("#completedTasks"),todoPriorityBtns=document.querySelectorAll(".form-check-label");let priorityText;function addTodo(t){t.preventDefault();const e=document.createElement("li");e.classList.add("list-group-item","d-flex","w-100","mb-2"),e.setAttribute("data-date",setSortTime());const n=document.createElement("div");n.classList.add("w-100","mr-2"),e.appendChild(n);const o=document.createElement("div");o.classList.add("d-flex","w-100","justify-content-between"),n.appendChild(o);const d=document.createElement("h5");d.innerText=todoInputTitle.value.trim(),d.classList.add("mb-1"),o.appendChild(d);const r=document.createElement("div");o.appendChild(r);const s=document.createElement("small");s.classList.add("mr-2"),s.innerText=priorityText,r.appendChild(s);const i=document.createElement("small");i.innerText=setTime(),i.classList.add("timeToDo"),r.appendChild(i);const a=document.createElement("p");a.innerText=todoInputText.value.trim(),a.classList.add("mb-1","w-100"),n.appendChild(a);const l=document.createElement("div");l.classList.add("dropdown","m-2","dropleft"),e.appendChild(l);const c=document.createElement("button");c.classList.add("btn","btn-secondary","h-100"),c.setAttribute("type","button"),c.setAttribute("id","dropdownMenuItem1"),c.setAttribute("data-toggle","dropdown"),c.setAttribute("aria-haspopup","true"),c.setAttribute("aria-expanded","false"),l.appendChild(c);const u=document.createElement("i");u.classList.add("fas","fa-ellipsis-v"),u.setAttribute("aria-hidden","true"),c.appendChild(u);const m=document.createElement("div");m.classList.add("dropdown-menu","p-2","flex-column"),m.setAttribute("aria-labelledby","dropdownMenuItem1"),m.setAttribute("x-placement","left-start"),m.setAttribute("style","position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(-162px, 0px, 0px);"),l.appendChild(m);const p=document.createElement("button");p.innerText="Complete",p.classList.add("btn","btn-success","w-100"),m.appendChild(p);const b=document.createElement("button");b.innerText="Edit",b.classList.add("btn","btn-info","w-100","my-2"),m.appendChild(b);const T=document.createElement("button");T.innerText="Delete",T.classList.add("btn","btn-danger","w-100"),m.appendChild(T),todoList.appendChild(e),todoInputTitle.value="",todoInputText.value="",T.addEventListener("click",(function(t){if(t.target.classList.contains("btn-danger")){const t=e;removeLocalTodos(t),t.addEventListener("transitionend",()=>{t.remove()})}})),p.addEventListener("click",(function(t){if(t.target.classList.contains("btn-success")){const t=e;todoListCompleted.appendChild(t)}})),b.addEventListener("click",(function(t){if(t.target.classList.contains("btn-info")){d.setAttribute("contentEditable","true"),d.style.border="solid red 1px",a.setAttribute("contentEditable","true"),a.style.border="solid red 1px",document.addEventListener("keyup",t=>{27!=t.keyCode&&13!=t.keyCode||(d.removeAttribute("contentEditable"),d.style.border="none",a.removeAttribute("contentEditable"),a.style.border="none")})}}))}function setSortTime(){return Date.now()}function setTime(){let t=new Date,e=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return`${t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()} ${e}`}function removeLocalTodos(t){let e;e=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos"));const n=t.children[0].innerText;e.splice(e.indexOf(n),1),localStorage.setItem("todos",JSON.stringify(e))}todoButton.addEventListener("click",addTodo),todoPriorityBtns.forEach(t=>t.addEventListener("click",()=>priorityText=t.getAttribute("for")+" priority"));let timeToSortArray=Array.from($(".list-group-item"));const sortTimeDown=document.querySelector(".fa-sort-numeric-up-alt");sortTimeDown.closest("button").addEventListener("click",(function(t){t.preventDefault(),console.log("start"),timeToSortArray.sort((function(t,e){return $(t).data("date")-$(e).data("date")})),$("#currentTasks").html(timeToSortArray),console.log("end")}));const sortTimeUp=document.querySelector(".fa-sort-numeric-up");sortTimeUp.closest("button").addEventListener("click",(function(t){t.preventDefault(),console.log("end"),console.log(timeToSortArray),timeToSortArray.sort((function(t,e){return $(e).data("date")-$(t).data("date")})),$("#currentTasks").html(timeToSortArray)}));