const todoInputTitle=document.querySelector("#inputTitle"),todoInputText=document.querySelector("#inputText"),todoButton=document.querySelector(".js-addButton"),todoList=document.querySelector("#currentTasks"),todoListCompleted=document.querySelector("#completedTasks"),todoPriorityBtns=document.querySelectorAll(".form-check-label");let priorityText;function addTodo(t){t.preventDefault();const e=document.createElement("li");e.classList.add("list-group-item","d-flex","w-100","mb-2");const n=document.createElement("div");n.classList.add("w-100","mr-2"),e.appendChild(n);const o=document.createElement("div");o.classList.add("d-flex","w-100","justify-content-between"),n.appendChild(o);const d=document.createElement("h5");d.innerText=todoInputTitle.value,d.classList.add("mb-1"),o.appendChild(d);const s=document.createElement("div");o.appendChild(s);const i=document.createElement("small");i.classList.add("mr-2"),i.innerText=priorityText,s.appendChild(i);const a=document.createElement("small");a.innerText=setTime(),s.appendChild(a);const l=document.createElement("p");l.innerText=todoInputText.value,l.classList.add("mb-1","w-100"),n.appendChild(l);const r=document.createElement("div");r.classList.add("dropdown","m-2","dropleft"),e.appendChild(r);const c=document.createElement("button");c.classList.add("btn","btn-secondary","h-100"),c.setAttribute("type","button"),c.setAttribute("id","dropdownMenuItem1"),c.setAttribute("data-toggle","dropdown"),c.setAttribute("aria-haspopup","true"),c.setAttribute("aria-expanded","false"),r.appendChild(c);const u=document.createElement("i");u.classList.add("fas","fa-ellipsis-v"),u.setAttribute("aria-hidden","true"),c.appendChild(u);const p=document.createElement("div");p.classList.add("dropdown-menu","p-2","flex-column"),p.setAttribute("aria-labelledby","dropdownMenuItem1"),p.setAttribute("x-placement","left-start"),p.setAttribute("style","position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(-162px, 0px, 0px);"),r.appendChild(p);const m=document.createElement("button");m.innerText="Complete",m.classList.add("btn","btn-success","w-100"),p.appendChild(m);const b=document.createElement("button");b.innerText="Edit",b.classList.add("btn","btn-info","w-100","my-2"),p.appendChild(b);const f=document.createElement("button");f.innerText="Delete",f.classList.add("btn","btn-danger","w-100"),p.appendChild(f),todoList.appendChild(e),todoInputTitle.value="",todoInputText.value="",f.addEventListener("click",(function(t){if(t.target.classList.contains("btn-danger")){const t=e;removeLocalTodos(t),t.addEventListener("transitionend",()=>{t.remove()})}})),m.addEventListener("click",(function(t){if(t.target.classList.contains("btn-success")){const t=e;todoListCompleted.appendChild(t)}})),b.addEventListener("click",(function(t){if(t.target.classList.contains("btn-info")){d.setAttribute("contentEditable","true"),d.style.border="solid red 1px",l.setAttribute("contentEditable","true"),l.style.border="solid red 1px",document.addEventListener("keyup",t=>{27!=t.keyCode&&13!=t.keyCode||(d.removeAttribute("contentEditable"),d.style.border="none",l.removeAttribute("contentEditable"),l.style.border="none")})}}))}function setTime(){let t=new Date,e=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return`${t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()} ${e}`}function removeLocalTodos(t){let e;e=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos"));const n=t.children[0].innerText;e.splice(e.indexOf(n),1),localStorage.setItem("todos",JSON.stringify(e))}todoButton.addEventListener("click",addTodo),todoPriorityBtns.forEach(t=>t.addEventListener("click",()=>priorityText=t.getAttribute("for")+" priority"));